<!DOCTYPE html>
<html lang="en">
    {% load staticfiles %}
   <head>
      <!-- BEGIN META --> 
	  <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="description" content="">
      <meta name="author" content="Custom Theme">
	  <!-- END META -->
     
      <!-- BEGIN SHORTCUT ICON -->
	  <link rel="shortcut icon" href="{% static 'aimales/img/favicon.ico' %}">
	  <!-- END SHORTCUT ICON -->
      <title>Editable Table</title>
	  
	  <!-- BEGIN STYLESHEET --> 
      <link href="{% static 'aimales/css/bootstrap.min.css' %}" rel="stylesheet"><!-- BOOTSTRAP CSS -->
      <link href="{% static 'aimales/css/bootstrap-reset.css' %}" rel="stylesheet"><!-- BOOTSTRAP CSS -->
      <link href="{% static 'aimales/assets/font-awesome/css/font-awesome.css' %}" rel="stylesheet"><!-- FONT AWESOME ICON STYLESHEET -->
      <link rel="stylesheet" href="{% static 'aimales/assets/data-tables/DT_bootstrap.css' %}"><!-- DATATABLE CSS -->
      <link href="{% static 'aimales/css/style.css' %}" rel="stylesheet"><!-- THEME BASIC CSS -->
      <link href="{% static 'aimales/css/style-responsive.css' %}" rel="stylesheet"><!-- THEME BASIC RESPONSIVE  CSS -->
      <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
      <![endif]-->
	  <!-- END STYLESHEET --> 
   </head>
   <body>
   <!-- BEGIN SECTION --> 
      <section id="container" class="">
	    <!-- BEGIN HEADER --> 
         <header class="header white-bg">
         <!-- SIDEBAR TOGGLE BUTTON -->
			<div class="sidebar-toggle-box">
			  <div  data-placement="right" class="fa fa-bars tooltips">
			  </div>
			</div>
        <!-- SIDEBAR TOGGLE BUTTON  END-->
            <a href="index.html" class="logo">olive<span>admin</span></a>
           <!-- START HEADER  NAV -->
        
        <nav class="nav notify-row" id="top_menu">
          
          <ul class="nav top-menu">
            <!-- START NOTIFY TASK BAR -->
            
            <li class="dropdown">
              <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <i class="fa fa-tasks">
                </i>
                <span class="badge bg-success">
                  6
                </span>
              </a>
              
              <ul class="dropdown-menu extended tasks-bar">
                <li class="notify-arrow notify-arrow-blue">
                </li>
                <li>
                  <p class="blue">
                    You have 6 pending tasks
                  </p>
                </li>
                <li>
                  <a href="#">
                    <div class="task-info">
                      <div class="desc">
                        Dashboard v1.3
                      </div>
                      <div class="percent">
                        40%
                      </div>
                    </div>
                    <div class="progress progress-striped">
                      <div class="progress-bar progress-bar-success set-40" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" >
                        <span class="sr-only">
                          40% Complete (success)
                        </span>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <div class="task-info">
                      <div class="desc">
                        Database Update
                      </div>
                      <div class="percent">
                        60%
                      </div>
                    </div>
                    <div class="progress progress-striped">
                      <div class="progress-bar progress-bar-warning set-60" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" >
                        <span class="sr-only">
                          60% Complete (warning)
                        </span>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <div class="task-info">
                      <div class="desc">
                        Iphone Development
                      </div>
                      <div class="percent">
                        87%
                      </div>
                    </div>
                    <div class="progress progress-striped">
                      <div class="progress-bar progress-bar-info set-87" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" >
                        <span class="sr-only">
                          87% Complete
                        </span>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <div class="task-info">
                      <div class="desc">
                        Mobile App
                      </div>
                      <div class="percent">
                        33%
                      </div>
                    </div>
                    <div class="progress progress-striped">
                      <div class="progress-bar progress-bar-danger set-33" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" >
                        <span class="sr-only">
                          33% Complete (danger)
                        </span>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <div class="task-info">
                      <div class="desc">
                        Dashboard v1.3
                      </div>
                      <div class="percent">
                        45%
                      </div>
                    </div>
                    <div class="progress progress-striped active">
                      <div class="progress-bar set-45" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" >
                        <span class="sr-only">
                          45% Complete
                        </span>
                      </div>
                      
                    </div>
                  </a>
                </li>
                <li class="external">
                  <a href="#">
                    See All Tasks
                  </a>
                </li>
              </ul>
              
            </li>
            <!-- END NOTIFY TASK BAR -->
            
            <!-- START NOTIFY INBOX BAR -->
            
            <li id="header_inbox_bar" class="dropdown">
              <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <i class="fa fa-envelope-o">
                </i>
                <span class="badge bg-important">
                  5
                </span>
              </a>
              <ul class="dropdown-menu extended inbox">
                <li class="notify-arrow notify-arrow-blue">
                </li>
                <li>
                  <p class="blue">
                    You have 5 new messages
                  </p>
                </li>
                <li>
                  <a href="#">
                    <span class="photo">
                      <img alt="avatar" src="./img/avatar-mini.jpg">
                    </span>
                    <span class="subject">
                      <span class="from">
                        Chintan Pandya
                      </span>
                      <span class="time">
                        Just now
                      </span>
                    </span>
                    <span class="message">
                      Hello, this is an example msg.
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="photo">
                      <img alt="avatar" src="./img/avatar-mini2.jpg">
                    </span>
                    <span class="subject">
                      <span class="from">
                        Parth Jani
                      </span>
                      <span class="time">
                        10 mins
                      </span>
                    </span>
                    <span class="message">
                      Hi, Bro how are you ?
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="photo">
                      <img alt="avatar" src="./img/avatar-mini3.jpg">
                    </span>
                    <span class="subject">
                      <span class="from">
                        Jay Bardolia
                      </span>
                      <span class="time">
                        3 hrs
                      </span>
                    </span>
                    <span class="message">
                      This is awesome dashboard.
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="photo">
                      <img alt="avatar" src="./img/avatar-mini4.jpg">
                    </span>
                    <span class="subject">
                      <span class="from">
                        Pruthvi Bardolia
                      </span>
                      <span class="time">
                        Just now
                      </span>
                    </span>
                    <span class="message">
                      Hello, this is metrolab
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    See all messages
                  </a>
                </li>
              </ul>
            </li>
            <!-- END NOTIFY INBOX BAR -->
            
            <!-- START NOTIFY NOTIFICATION BAR -->
            
            <li id="header_notification_bar" class="dropdown">
              <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                <i class="fa fa-bell-o">
                </i>
                <span class="badge bg-warning">
                  7
                </span>
              </a>
              <ul class="dropdown-menu extended notification">
                <li class="notify-arrow notify-arrow-blue">
                </li>
                <li>
                  <p class="blue">
                    You have 7 new notifications
                  </p>
                </li>
                <li>
                  <a href="#">
                    <span class="label label-danger">
                      <i class="fa fa-bolt">
                      </i>
                    </span>
                    Server #3 overloaded.
                    <span class="small italic">
                      34 mins
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="label label-warning">
                      <i class="fa fa-bell">
                      </i>
                    </span>
                    Server #10 not respoding.
                    <span class="small italic">
                      1 Hours
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="label label-danger">
                      <i class="fa fa-bolt">
                      </i>
                    </span>
                    Database overloaded 24%.
                    <span class="small italic">
                      4 hrs
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="label label-success">
                      <i class="fa fa-plus">
                      </i>
                    </span>
                    New user registered.
                    <span class="small italic">
                      Just now
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="label label-primary">
                      <i class="fa fa-bullhorn">
                      </i>
                    </span>
                    Application error.
                    <span class="small italic">
                      10 mins
                    </span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    See all notifications
                  </a>
                </li>
              </ul>
            </li>
            <!-- END NOTIFY NOTIFICATION BAR -->
            
          </ul>
          
          
        </nav>
        
        <!-- END HEADER NAV -->
        
        
        <!-- START USER LOGIN DROPDOWN  -->
            <div class="top-nav ">
               <ul class="nav pull-right top-menu">
                  <li>
                     <input type="text" class="form-control search" placeholder="Search">
                  </li>
                  <li class="dropdown">
                     <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                     <img alt="" src="img/avatar1_small.jpg">
                     <span class="username">Pruthvi</span>
                     <b class="caret"></b>
                     </a>
                     <ul class="dropdown-menu extended logout">
                        <li class="log-arrow-up"></li>
                        <li><a href="#"><i class=" fa fa-suitcase"></i>Profile</a></li>
                        <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                        <li><a href="#"><i class="fa fa-bell-o"></i> Notification</a></li>
                        <li><a href="login.html"><i class="fa fa-key"></i> Log Out</a></li>
                     </ul>
                  </li>
               </ul>
            </div>
			<!-- END USER LOGIN DROPDOWN  -->
         </header>
		 <!-- END HEADER --> 
		 
		 <!-- BEGIN SIDEBAR --> 
         <aside>
            <div id="sidebar" class="nav-collapse">
               <ul class="sidebar-menu" id="nav-accordion">
                  <li>
                     <a href="index.html">
                     <i class="fa fa-dashboard"></i>
                     <span>Dashboard</span>
                     </a>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class="fa fa-laptop"></i>
                     <span>Layouts</span>
                     <span class="label label-success span-sidebar">4</span>
                     </a>
                     <ul class="sub">
                        <li><a href="boxed_page.html">Boxed Page</a></li>
                        <li><a href="horizontal_menu.html">Horizontal Menubar</a></li>
                        <li><a href="language_switch_bar.html">Language Bar</a></li>
                        <li><a href="email_template.html" target="_blank">Email Templates</a></li>
                     </ul>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class="fa fa-book"></i>
                     <span>UI Elements</span>
                     <span class="label label-info span-sidebar">7</span>
                     </a>
                     <ul class="sub">
                        <li><a href="general.html">General</a></li>
                        <li><a href="buttons.html">Buttons</a></li>
                        <li><a href="widget.html">Widget</a></li>
                        <li><a href="slider.html">Range Slider</a></li>
                        <li><a href="nestable.html">Nestable List</a></li>
                        <li><a href="tree.html">Tree View List</a></li>
                        <li><a href="font_awesome.html">Font Awesome Icon</a></li>
                     </ul>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class="fa fa-cogs"></i>
                     <span>Components</span>
                     <span class="label label-primary span-sidebar">5</span>
                     </a>
                     <ul class="sub">
                        <li><a href="grids.html">Grids</a></li>
                        <li><a href="calendar.html">Calendar</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="todo_list.html">Todo List</a></li>
                        <li><a href="draggable_portlet.html">Draggable Portlets</a></li>
                     </ul>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class="fa fa-tasks"></i>
                     <span>Form Stuff</span>
                     <span class="label label-info span-sidebar">7</span>
                     </a>
                     <ul class="sub">
                        <li><a href="form_component.html">Form Components</a></li>
                        <li><a href="advanced_form_components.html">Advanced Components</a></li>
                        <li><a href="form_wizard.html">Form Wizards</a></li>
                        <li><a href="form_validation.html">Form Validation</a></li>
                        <li><a href="dropzone.html">Dropzone File Upload</a></li>
                        <li><a href="inline_editor.html">Inline Editor</a></li>
                        <li><a href="file_upload.html">Multiple File Upload</a></li>
                     </ul>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;" class="active">
                     <i class="fa fa-th"></i>
                     <span>Data Tables</span>
                     <span class="label label-inverse span-sidebar">5</span>
                     </a>
                     <ul class="sub">
                        <li><a href="basic_table.html">Basic Table</a></li>
                        <li><a href="responsive_table.html">Responsive Table</a></li>
                        <li><a href="dynamic_table.html">Dynamic Table</a></li>
                        <li><a href="advanced_table.html">Advanced Table</a></li>
                        <li class="active"><a href="editable_table.html">Editable Table</a></li>
                     </ul>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class=" fa fa-envelope"></i>
                     <span>Mail</span>
                     <span class="label label-danger span-sidebar">2</span>
                     </a>
                     <ul class="sub">
                        <li><a href="inbox.html">Inbox</a></li>
                        <li><a href="inbox_details.html">Mail Details</a></li>
                     </ul>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class=" fa fa-bar-chart-o"></i>
                     <span>Charts</span>
                     <span class="label label-warning span-sidebar">4</span>
                     </a>
                     <ul class="sub">
                        <li><a href="morris.html">Morris Chart</a></li>
                        <li><a href="chartjs.html">Chartjs Chart</a></li>
                        <li><a href="flot_chart.html">Flot Charts</a></li>
                        <li><a href="xchart.html">xChart</a></li>
                     </ul>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class="fa fa-shopping-cart"></i>
                     <span>Product</span>
                     <span class="label label-success span-sidebar">2</span>
                     </a>
                     <ul class="sub">
                        <li><a href="product_list.html">List View</a></li>
                        <li><a href="product_details.html">Details View</a></li>
                     </ul>
                  </li>
                  <li>
                     <a href="google_maps.html">
                     <i class="fa fa-map-marker"></i>
                     <span>Google Maps </span>
                     </a>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;" >
                     <i class="fa fa-glass"></i>
                     <span>Extra Pages</span>
                     <span class="label label-primary span-sidebar">10</span>
                     </a>
                     <ul class="sub">
                        <li><a href="blank.html">Blank Page</a></li>
                        <li><a href="lock_screen.html">Lock Screen</a></li>
                        <li><a href="profile.html">Profile</a></li>
                        <li><a href="invoice.html">Invoice</a></li>
                        <li><a href="search_result.html">Search Result</a></li>
                        <li><a href="pricing_table.html">Pricing Table</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                        <li ><a href="fb_wall.html">Timeline</a></li>
                        <li><a href="404.html">404 Error</a></li>
                        <li><a href="500.html">500 Error</a></li>
                     </ul>
                  </li>
                  <li>
                     <a href="login.html">
                     <i class="fa fa-user"></i>
                     <span>Login Page</span>
                     </a>
                  </li>
                  <li class="sub-menu">
                     <a href="javascript:;">
                     <i class="fa fa-sitemap"></i>
                     <span>Multi level Menu</span>
                     </a>
                     <ul class="sub">
                        <li><a href="javascript:;">Menu Item 1</a></li>
                        <li class="sub-menu">
                           <a href="boxed_page.html">Menu Item 2 <span class="label label-primary">1</span></a>
                           <ul class="sub">
                              <li><a href="javascript:;"> Item 2.1</a></li>
                              <li class="sub-menu">
                                 <a href="javascript:;">Menu Item 3 <span class="label label-primary">3</span></a>
                                 <ul class="sub">
                                    <li><a href="javascript:;">Item 3.1</a></li>
                                    <li><a href="javascript:;">Item 3.2</a></li>
                                    <li><a href="javascript:;">Item 3.2</a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </li>
               </ul>
            </div>
         </aside>
		 <!-- END SIDEBAR --> 
		 
		 <!-- BEGIN MAIN CONTENT --> 
         <section id="main-content">
		    <!-- BEGIN WRAPPER  -->
            <section class="wrapper site-min-height">
               <section class="panel">
                  <div class="panel-body">
                        <div class="btn-group pull-right">                            
                                <button data-original-title="提示：" data-content="在此切换要显示的数据库" data-placement="top" data-trigger="hover" class="btn btn-info popovers">数据库切换</button>
                                <button id="dataset_name" class="btn btn-white" type="button">
                                    {% if datassets|length >= 1 %}
                                        {{datasets.0}}
                                    {% else %}  
                                        无数据库
                                    {% endif %}
                                </button>
                                <button data-toggle="dropdown" class="btn btn-white dropdown-toggle" type="button">
                                    <span class="caret">
                                    </span>
                                </button>
                                <ul role="menu" class="dropdown-menu">
                                    {% for dataset in datasets %}
                                        {% if forloop.counter >= 1 %}
                                            <li>
                                                <a href="#" id="{{dataset}}">
                                                    {{dataset}}
                                                </a>
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                        </div>
                     <div class="adv-table editable-table ">
                        <div class="clearfix">
                           <div class="btn-group">
                            <button id="editable-sample_new" class="btn btn-success green">
                              新增数据 <i class="fa fa-plus"></i>
                              </button>
                           </div>
                        </div>
                        <div class="space15"></div>
                        <table class="table table-striped table-hover table-bordered" id="editable-sample">
                           <thead>
                              <tr>
                                <th></th>
                                 <th>ID</th>
                                 <th class="hidden-phone">MD5</th>
                                 <th class="hidden-phone">负载内容</th>
                                 <th class="hidden-phone">分词结果</th>
                                 <th class="hidden-phone">标注结果</th>
                                 <th class="hidden-phone">数据时间戳</th>
                                 <th>数据操作</th>
                              </tr>
                           </thead>
                           <tbody id="editable_table_body">
                               {% for record in records %}
                                <tr class="default_display_record_info" >
                                    <td class="center"><img id="show_record_details_button_{{record.id}}" onclick="hide_or_display_details(this);" src="{% static 'aimales/assets/advanced-datatable/examples/examples_support/details_open.png' %}"></img></td>
                                    <td class="record_id">{{record.id}}</td>
                                    <td class="hidden-phone" id="pcap_md5">{{record.pcap_md5}}</td>
                                    <td class="hidden-phone" id="payload_ascii">{{record.payload_ascii}}</td>
                                    <td class="center hidden-phone" id="word_segmentation_text">{{record.word_segmentation_text}}</td>
                                    <td class="center hidden-phone" id="word_tag_text">{{record.word_tag_text}}</td>
                                    <td class="center hidden-phone" id="captured_date">{{record.captured_date|date:"Y-m-d H:i:s"}}</td>
                                    <td class="operations">
                                    <a class="edit" href="javascript:;"><i class="fa fa-pencil-square-o">编辑&emsp;</i></a>
                                    <a class="delete" href="javascript:;"><i class="fa fa-times-circle">删除</i></a>
                                    </td>
                                </tr>
                                <!--
                                <tr class="default_hidden_record_info" id="record_details_{{record.id}}_tr" style="display: none;">
                                    <td class="details" colspan="8">
                                        <table cellpadding="5" cellspacing="0" border="0" style="padding-left:20px;">
                                            <tbody id="record_details_{{record.id}}_tbody">
                                                <tr>
                                                    <td class="is_valid_label">是否有效:{{record.is_valid}}</td>
                                                    <td class="is_valid_options">
                                                    <select id="is_valid_input_{{record.id}}" >
                                                        {% if record.is_valid %}
                                                            <option value ="0">否</option>
                                                            <option value ="1" selected="selected">是</option>
                                                        {% else %}
                                                            <option value ="0" selected="selected">否</option>
                                                            <option value ="1">是</option>
                                                        {% endif %}
                                                    </select>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="">是否已分词:</td>
                                                    <td class="">
                                                        <select id="is_segmented_input_{{record.id}}" >
                                                            {% if record.is_segmented %}
                                                                <option value ="0">否</option>
                                                                <option value ="1" selected="selected">是</option>
                                                            {% else %}
                                                                <option value ="0" selected="selected">否</option>
                                                                <option value ="1">是</option>
                                                            {% endif %}
                                                        </select>
                                                    </td>
                                                    <td class="is_tagged_label">是否已标注:</td>
                                                    <td class="">
                                                        <select id="is_tagged_input_{{record.id}}" >
                                                                {% if record.is_tagged %}
                                                                    <option value ="0">否</option>
                                                                    <option value ="1" selected="selected">是</option>
                                                                {% else %}
                                                                    <option value ="0" selected="selected">否</option>
                                                                    <option value ="1">是</option>
                                                                {% endif %}
                                                        </select>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="">负载大小:</td>
                                                    <td class=""><input id="payload_size_input_{{record.id}}" size="15" value="{{record.payload_size}}"></input></td>
                                                    <td class="">相关样本:</td>
                                                    <td class=""><input id="correlation_record_count_input_{{record.id}}" size="15" value="{{record.correlation_record_count}}"></input></td>
                                                </tr>
                                                <tr>
                                                    <td class="">标注数量:</td>
                                                    <td class=""><input id="word_tag_count_input_{{record.id}}" size="15" value="{{record.word_tag_count}}"></input></td>
                                                    <td class="">分词数量:</td>
                                                    <td class=""><input id="word_segmentation_count_input_{{record.id}}" size="15" value="{{record.word_segmentation_count}}"></input></td>
                                                </tr>
                                                <tr>
                                                    <td class="">创建日期:</td>
                                                    <td class=""><input id="add_date_input_{{record.id}}" size="18" value='{{record.add_date|date:"Y-m-d H:i:s"}}'></input></td>
                                                    <td class="">更新日期:</td>
                                                    <td class=""><input readonly="readonly" id="update_date_input_{{record.id}}" size="18" value='{{record.update_date|date:"Y-m-d H:i:s"}}'></input></td>
                                                </tr>
                                                <tr>
                                                    <td class="">分词日期:</td>
                                                    <td class=""><input readonly="readonly" id="last_segmentation_date_input_{{record.id}}" size="18" value='{{record.last_segmentation_date|date:"Y-m-d H:i:s"}}'></input></td>
                                                    <td class="">标注日期:</td>
                                                    <td class=""><input readonly="readonly" id="last_tag_date_input_{{record.id}}" size="18" value='{{record.last_tag_date|date:"Y-m-d H:i:s"}}'></input></td>
                                                </tr>
                                                <tr>
                                                    <td class="">数据包名:</td>
                                                    <td class=""><input id="pcap_name_input_{{record.id}}" size="30" value="{{record.pcap_name}}"></input></td>
                                                    <td class="">样本路径:</td>
                                                    <td class=""><input id="pcap_path_input_{{record.id}}" size="30" value="{{record.pcap_path}}"></input></td>
                                                </tr>
                                                <tr>
                                                    <td class="">负载二进制:</td>
                                                    <td class=""><textarea id="payload_binary_input_{{record.id}}" rows="4" class="  form-control">{{record.payload_binary}}</textarea></td>
                                                    <td class="">数据备注:</td>
                                                    <td class=""><textarea id="remarks_input_{{record.id}}" rows="4" class="  form-control">{{record.remarks}}</textarea></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>    
                                -->
                                {% endfor %}
                           </tbody>
                        </table>
                     </div>
                  </div>
               </section>
            </section>
			<!-- END WRAPPER  -->
         </section>
		 <!-- END MAIN CONTENT --> 
		 <!-- BEGIN FOOTER --> 
         <footer class="site-footer">
            <div class="text-center">
               2019 &copy; Aimales by <a href="" target="_blank">APP AI LAB</a>.
               <a href="http://" class="go-top">
               <i class="fa fa-angle-up"></i>
               </a>
            </div>
         </footer>
		 <!-- END FOOTER --> 
      </section>
	  <!-- END SECTION -->

<!-- BEGIN JS --> 	  
		<script src="{% static 'aimales/js/jquery-1.8.3.min.js' %}" ></script><!-- BASIC JS LIABRARY 1.8.3 -->
		<script src="{% static 'aimales/js/bootstrap.min.js' %}" ></script><!-- BOOTSTRAP JS  -->
		<script src="{% static 'aimales/js/jquery.dcjqaccordion.2.7.js' %}"></script><!-- ACCORDING JS -->
		<script src="{% static 'aimales/js/jquery.scrollTo.min.js' %}" ></script><!-- SCROLLTO JS  -->
		<script src="{% static 'aimales/js/jquery.nicescroll.js' %}" > </script><!-- NICESCROLL JS  -->
		<script src="{% static 'aimales/assets/data-tables/jquery.dataTables.js' %}"></script><!-- DATATABLE JS  -->
		<script src="{% static 'aimales/assets/data-tables/DT_bootstrap.js' %}"></script><!-- DATATABLE JS  -->
		<script src="{% static 'aimales/js/respond.min.js' %}" ></script><!-- RESPOND JS  -->
		<script src="{% static 'aimales/js/common-scripts.js' %}" ></script><!-- BASIC COMMON JS  -->
		<script src="{% static 'aimales/js/editable-table.js' %}" ></script><!-- EDITABLE TABLE JS  -->
        <script src="{% static 'aimales/js/md5.min.js' %}" ></script><!-- MD5 JS  -->
        <script  type="text/javascript">
            var details_fields = ["is_valid", "is_segmented", 
                                  "is_tagged", "payload_size",
                                  "correlation_record_count", "word_tag_count", 
                                  "word_segmentation_count", "add_date",
                                  "add_date", "update_date", 
                                  "last_segmentation_date", "last_tag_date",
                                  "pcap_name", "pcap_path", 
                                  "payload_binary", "remarks"]
            var record_details = {};
            // 因为records传递过来的数据是没有用json序列化的，解析会报错
            var all_records = "{{ jsoned_records | escapejs }}";
            all_records = JSON.parse(all_records);

            for(var index=0;index < all_records.length;index++){
                var temp = {};
                for(var idx=0;idx < details_fields.length;idx++){
                    temp[details_fields[idx]] = all_records[index][details_fields[idx]];
                }
                record_details[all_records[index]["id"]] = temp;
            }

            <!-- EDITABLE TABLE FUNCTION  -->
            jQuery(document).ready(function() {
                EditableTable.init();
            });

            function hide_or_display_details(details_button, edit_flag=false){
                // edit_flag判断是编辑还是只是展示详细信息页面
                var record_id = $(details_button).attr("id");
                record_id = record_id.split("_").slice(-1)[0];

                var tbody = document.getElementById("editable_table_body");
                var is_displayed = true;

                // 根据是否存在对应的节点判断是显示/隐藏细节信息
                var hidden_info_node = document.getElementById("details_info_id_" + record_id);
                if(null != hidden_info_node){
                    var hidden_node_index = [].indexOf.call(tbody.children, hidden_info_node);
                    if(-1 != hidden_node_index){
                        tbody.deleteRow(hidden_node_index);
                        is_displayed = false;
                    }
                }else{
                    var target_node = details_button.parentNode.parentNode;
                    var target_node_index = [].indexOf.call(tbody.children, target_node);
                    if(-1 != target_node_index){
                        var new_detail_tr_node = tbody.insertRow(target_node_index + 1);
                        new_detail_tr_node.innerHTML = generate_details_info_template(record_id);
                        new_detail_tr_node.setAttribute("id", "details_info_id_" + record_id);
                        new_detail_tr_node.setAttribute("class", "default_hidden_details_info");
                        is_displayed = true;
                    }
                }

                // 若只是显示详细信息，需要设置readonly模式

                if(is_displayed){
                    var new_button = document.createElement("i");
                    new_button.setAttribute("class", "fa fa-minus-circle");
                    new_button.setAttribute("onclick", "hide_or_display_details(this);");
                    new_button.setAttribute("style", "font-size: 22px;color:#53A0C5;");
                    new_button.setAttribute("id", "show_record_details_button_" + record_id);
                    new_button.setAttribute("onclick", "hide_or_display_details(this);");
                    details_button.parentNode.replaceChild(new_button, details_button);
                }else{
                    var new_button = document.createElement("img");
                    new_button.setAttribute("src", "/static/aimales/assets/advanced-datatable/examples/examples_support/details_open.png");
                    new_button.setAttribute("onclick", "hide_or_display_details(this);");
                    new_button.setAttribute("id", "show_record_details_button_" + record_id);
                    details_button.parentNode.replaceChild(new_button, details_button);
                }
            }
            
            // 生成要在界面上显示的详细信息的html代码
            function generate_details_info_template(id){
                var details_info_code = "";
                details_info_code += '<tr class="default_hidden_record_info" id="record_details_' + id + '_tr" style="display: show;">';
                details_info_code += '<td class="details" colspan="8">\
                        <table cellpadding="5" cellspacing="0" border="0" style="padding-left:20px;">\
                            <tbody id="record_details_' + id + '_tbody">\
                                <tr>\
                                    <td class="is_valid_label">是否有效:</td>\
                                    <td class="is_valid_options">\
                                    <select id="is_valid_input_' + id + '" >';
                if(record_details[id]["is_valid"]){
                    details_info_code += '<option value ="0">否</option>\
                                          <option value ="1" selected="selected">是</option>';
                }else{
                    details_info_code += '<option value ="0" selected="selected">否</option>\
                                            <option value ="1">是</option>';
                }
                details_info_code += '</select>\
                                    </td>\
                                </tr>\
                                <tr>\
                                    <td class="">是否已分词:</td>\
                                    <td class="">\
                                        <select id="is_segmented_input_' + id + '" >';
                if(record_details[id]["is_segmented"]){
                    details_info_code += '<option value ="0">否</option>\
                                          <option value ="1" selected="selected">是</option>';
                }else{
                    details_info_code += '<option value ="0" selected="selected">否</option>\
                                          <option value ="1">是</option>';
                }
                details_info_code += '</select>\
                                    </td>\
                                    <td class="is_tagged_label">是否已标注:</td>\
                                    <td class="">\
                                        <select id="is_tagged_input_' + id + '" >';
                if(record_details[id]["is_tagged"]){
                    details_info_code += '<option value ="0">否</option>';
                    details_info_code += '<option value ="1" selected="selected">是</option>';
                }else{
                    details_info_code += '<option value ="0" selected="selected">否</option>';
                    details_info_code += '<option value ="1">是</option>';
                }
                details_info_code += '</select>\
                                    </td>\
                                </tr>\
                                <tr>\
                                    <td class="">负载大小:</td>\
                                    <td class=""><input id="payload_size_input_' + id + '" size="15" value="' + record_details[id]["payload_size"] + '"></input></td>\
                                    <td class="">相关样本:</td>\
                                    <td class=""><input id="correlation_record_count_input_' + id + '" size="15" value="' + record_details[id]["correlation_record_count"] + '"></input></td>\
                                </tr>\
                                <tr>\
                                    <td class="">标注数量:</td>\
                                    <td class=""><input id="word_tag_count_input_' + id + '" size="15" value="' + record_details[id]["word_tag_count"] + '"></input></td>\
                                    <td class="">分词数量:</td>\
                                    <td class=""><input id="word_segmentation_count_input_' + id + '" size="15" value="' + record_details[id]["word_segmentation_count"] + '"></input></td>\
                                </tr>\
                                <tr>\
                                    <td class="">创建日期:</td>\
                                    <td class=""><input id="add_date_input_' + id + '" size="18" value="' + record_details[id]["add_date"] + '"></input></td>\
                                    <td class="">更新日期:</td>\
                                    <td class=""><input readonly="readonly" id="update_date_input_' + id + '" size="18" value="' + record_details[id]["update_date"] + '"></input></td>\
                                </tr>\
                                <tr>\
                                    <td class="">分词日期:</td>\
                                    <td class=""><input readonly="readonly" id="last_segmentation_date_input_' + id + '" size="18" value="' + record_details[id]["last_segmentation_date"] + '"></input></td>\
                                    <td class="">标注日期:</td>\
                                    <td class=""><input readonly="readonly" id="last_tag_date_input_' + id + '" size="18" value="' + record_details[id]["last_tag_date"] + '"></input></td>\
                                </tr>\
                                <tr>\
                                    <td class="">数据包名:</td>\
                                    <td class=""><input id="pcap_name_input_' + id + '" size="30" value="' + record_details[id]["pcap_name"] + '"></input></td>\
                                    <td class="">样本路径:</td>\
                                    <td class=""><input id="pcap_path_input_' + id + '" size="30" value="' + record_details[id]["pcap_path"] + '"></input></td>\
                                </tr>\
                                <tr>\
                                    <td class="">负载二进制:</td>\
                                    <td class=""><textarea id="payload_binary_input_' + id + '" rows="4" class="  form-control">' + record_details[id]["payload_binary"] + '</textarea></td>\
                                    <td class="">数据备注:</td>\
                                    <td class=""><textarea id="remarks_input_' + id + '" rows="4" class="  form-control">' + record_details[id]["remarks"] + '</textarea></td>\
                                </tr>\
                            </tbody>\
                        </table>\
                    </td>\
                </tr>';
                return details_info_code;
            }
        </script>
	  <!-- END JS --> 
   </body>
</html>


